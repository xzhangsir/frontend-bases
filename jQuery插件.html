<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jQuery插件</title>
	<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
</head>
<body>
	<div class="tab"></div>
	<script>
		$.fn.extend({
			switch(obj){
				// 判断用户是否传参数了
				if(obj){
					obj.openColor = obj.opendColor || 'green';
					obj.closeColor = obj.closeColor || 'red';
					obj.open = obj.open;
					obj.close = obj.close;
					obj.static = obj.static || false;
				}else{
					var obj = {};
					obj.openColor = 'green';
					obj.closeColor = 'red';
					obj.static = false;
				}

				this.css({
					width:'40px',
					height:'20px',
					backgroundColor:obj.closeColor,
					borderRadius:'10px',
					position:'relative',
					transition: 'all .3s'
				});
				$('<i></i>').appendTo($(this));
				this.find('i').css({
					width:'16px',
					height:'16px',
					backgroundColor:'#d3d3d3',
					position:'absolute',
					top:'2px',
					left:'4px',
					borderRadius:"50%",
					transition: 'all .3s'
				});
				$(this).click(function(){
					$(this).toggleClass('is-checked');
					if($(this).hasClass('is-checked')){
						$(this).css({
							backgroundColor:obj.openColor
						});
						$(this).find('i').css({
							left:'20px'
						});
						obj.open && obj.open();
					}else{
						$(this).css({
							backgroundColor:obj.closeColor
						});
						$(this).find('i').css({
							left:'4px'
						});
						obj.close &&  obj.close();
					}
				});

				obj.static && $(this).click();
			}
		})
	</script>
	<script>
		/*$('.tab').switch({
			// opendColor:'#f99',
			// closeColor:'#000',
			open(){
				console.log('开启了');
			},
			close(){
				console.log('关闭了');
			},
			static:false//默认状态
		});*/
		
		$('.tab').switch();
	</script>
</body>
</html>